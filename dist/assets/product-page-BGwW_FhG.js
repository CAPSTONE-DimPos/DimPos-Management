import{N as V,O as M,j as e,E as h,G as m,T as S,H as K,I as D,U as z,V as A,W as E,X as B,J as F,K as I,L as N,M as u,S as k}from"./index-C5LFqVy6.js";import{u as H,C as x,E as q,a as R,b as L,S as O,T as U,c as X,D as _}from"./use-query-params-Dxm1M_tz.js";import{B as n}from"./scroll-area-B7PKW6Ur.js";const $=async a=>await V.catalog.get(M.PRODUCT_VARIANT_API,{params:a}),G={getProductVariants:$},Q=()=>({getProductVariants:(s={})=>{const{page:t=s.page||1,size:o=s.size||10,sortBy:i=s.sortBy||"id",isAsc:l=s.isAsc||!0,name:d=s.name||""}=s;return H({queryKey:["product-variants",{page:t,size:o,sortBy:i,isAsc:l,name:d}],queryFn:()=>G.getProductVariants({page:t,size:o,sortBy:i,isAsc:l,name:d})})}}),J=[{accessorKey:"id",header:()=>e.jsx("div",{className:"text-center font-semibold text-muted-foreground",children:"STT"}),cell:a=>e.jsx("div",{className:"text-center",children:e.jsx(n,{variant:"outline",className:"font-mono text-xs",children:Number(a.row.id)+1})}),size:80},{accessorKey:"name",header:()=>e.jsx("div",{className:"font-semibold",children:"Tên Sản Phẩm"}),cell:a=>{const s=a.getValue();return e.jsx("div",{className:"max-w-[200px]",children:e.jsx("div",{className:"font-medium text-foreground truncate cursor-pointer hover:text-primary transition-colors",children:s})})}},{accessorKey:"code",header:()=>e.jsx("div",{className:"font-semibold",children:"Mã Sản Phẩm"}),cell:a=>{const s=a.getValue();return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{variant:"secondary",className:"font-mono text-xs",children:s}),e.jsx(h,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-muted",onClick:()=>m(s,"Mã sản phẩm"),children:e.jsx(x,{className:"h-3 w-3"})})]})}},{accessorKey:"alternativeCode",header:()=>e.jsx("div",{className:"font-semibold",children:"Mã Thay Thế"}),cell:a=>{const s=a.getValue();return s?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{variant:"secondary",className:"font-mono text-xs",children:s}),e.jsx(h,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-muted",onClick:()=>m(s,"Mã thay thế"),children:e.jsx(x,{className:"h-3 w-3"})})]}):e.jsx(n,{variant:"outline",className:"text-muted-foreground",children:"Không có"})}},{accessorKey:"price",header:()=>e.jsx("div",{className:"text-right font-semibold",children:"Giá Bán"}),cell:a=>{const s=a.getValue();return e.jsx("div",{className:"text-right",children:e.jsx(n,{variant:"default",className:"bg-green-100 text-green-800 hover:bg-green-200 font-mono",children:S(s)})})}},{accessorKey:"isMenuDisplay",header:()=>e.jsx("div",{className:"text-center font-semibold",children:"Hiển Thị Menu"}),cell:a=>{const s=a.getValue();return e.jsx("div",{className:"flex justify-center",children:e.jsx(n,{variant:s?"default":"secondary",className:`flex items-center gap-1 ${s?"bg-blue-100 text-blue-800 hover:bg-blue-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:s?e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"h-3 w-3"}),"Hiển thị"]}):e.jsxs(e.Fragment,{children:[e.jsx(R,{className:"h-3 w-3"}),"Ẩn"]})})})}},{accessorKey:"status",header:()=>e.jsx("div",{className:"text-center font-semibold",children:"Trạng Thái"}),cell:a=>{const t=a.getValue()===0;return e.jsx("div",{className:"flex justify-center",children:e.jsxs(n,{variant:t?"default":"destructive",className:`${t?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${t?"bg-green-500":"bg-red-500"}`}),t?"Kích Hoạt":"Không Kích Hoạt"]})})}},{id:"actions",header:()=>e.jsx("div",{className:"text-center font-semibold",children:"Thao Tác"}),cell:({row:a})=>{const s=a.original;return e.jsx("div",{className:"flex justify-center",children:e.jsxs(K,{children:[e.jsx(D,{asChild:!0,children:e.jsx(z,{children:e.jsxs(A,{children:[e.jsx(E,{asChild:!0,children:e.jsxs(h,{variant:"ghost",size:"icon",className:"h-8 w-8 p-0 hover:bg-muted",children:[e.jsx("span",{className:"sr-only",children:"Thao tác"}),e.jsx(L,{className:"h-4 w-4"})]})}),e.jsx(B,{children:"Thêm thao tác"})]})})}),e.jsxs(F,{align:"end",className:"w-48",children:[e.jsxs(I,{className:"text-xs text-muted-foreground",children:['Thao tác cho "',s.name,'"']}),e.jsx(N,{}),e.jsxs(u,{className:"cursor-pointer hover:bg-blue-50 focus:bg-blue-50",onClick:()=>{console.log("Edit product:",s.id)},children:[e.jsx(O,{className:"mr-2 h-4 w-4 text-blue-600"}),e.jsx("span",{className:"text-blue-700",children:"Chỉnh sửa"})]}),e.jsxs(u,{className:"cursor-pointer hover:bg-gray-50 focus:bg-gray-50",onClick:()=>m(s.code,"Mã danh mục"),children:[e.jsx(x,{className:"mr-2 h-4 w-4 text-gray-600"}),e.jsx("span",{className:"text-gray-700",children:"Sao chép mã"})]}),e.jsx(N,{}),e.jsxs(u,{className:"cursor-pointer hover:bg-red-50 focus:bg-red-50",onClick:()=>{console.log("Delete product:",s.id)},children:[e.jsx(U,{className:"mr-2 h-4 w-4 text-red-600"}),e.jsx("span",{className:"text-red-700",children:"Xóa sản phẩm"})]})]})]})})},size:80}],W=()=>{var p;const{currentPage:a,pageSize:s,sortBy:t,isAsc:o,setSort:i,setPage:l,setPageSize:d,filter:g,setFilter:v}=X({defaultFilter:[{id:"name",value:""}]}),{getProductVariants:f}=Q(),{data:c,isLoading:b,isError:y,error:j}=f({size:s,page:a,sortBy:t,isAsc:o,name:((p=g.find(r=>r.id==="name"))==null?void 0:p.value)||""});y&&j&&k(j);const T=(c==null?void 0:c.data.data.items)||[],P=(c==null?void 0:c.data.data.total)||0,w=g.map(r=>({...r,searchPlaceholder:r.id==="name"?"Tìm kiếm theo tên sản phẩm":""})),C={id:t,desc:!o};return e.jsx(_,{columns:J,data:T,totalItems:P,currentPage:a,pageSize:s,onPageChange:l,onPageSizeChange:d,isLoading:b,onSearchChange:v,searchValues:w,sortValues:[C],onSortChange:r=>{i(r[0].id,!r[0].desc)}})},se=()=>e.jsx("div",{className:"p-4",children:e.jsx(W,{})});export{se as default};
